<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>test8.html</h1>
    <h2>문서 객체 모델(DOM) : 웹문서의 접근 및 제어 가능한 형태</h2>

    <h2>document - form 태그(객체)</h2>

    <fieldset>
        <legend>폼태그 제목</legend>
        <h3>사용자의 정보를 입력 받아서 전달하는 태그</h3>
        <!--
            action="정보를 전달하는 페이지"
            method="전달 방법(get/post)"
         -->
        <form action="itwill.jsp" method="get" name="fr" onsubmit="fn3();">
            <!-- 파라메터: 주소줄로 전달하는 데이터
                input name 속성 == 파라메터 명
            -->
            <input type="text" name="txt">
            <input type="submit" value="전송">
            <hr>

            <input type="button" value="속성 확인" onclick="fn1();">
            <input type="button" value="속성 변경" onclick="fn2();">
        </form>
    </fieldset>

    <script>
        function fn1(){
            //alert("빼엑!");
            //폼태그 객체
            //alert(window.document.forms[0]);
            //폼태그가 배열의 형태로 저장
            console.log(window.document.fr);
            console.log(window.document.forms[0].action);
            //document.forms[0].action="busan.jsp"
        }

        function fn2(){
            document.forms[0].action="busan.jsp";
            document.fr.method="post";
            return;
            document.fr.submit();
        }

        function fn3(){
            document.forms[0].action="busan2.jsp";
            document.fr.method="post";
            return;
        }
    </script>
    <hr>
    <h3>form 태그 - method 속성</h3>
    <p>
        1. get 방식 <br>
        - 전송할 데이터를 주소(URL)에 붙여서 전송 <br>
        - URL 끝에 ? 사용해서 정보 전달 (중요 데이터 노출) <br>
        - 데이터 길이 제한(256Byte) <br>
        - body가 필요없음 <br>
        - 빠른 전송 속도 <br>
        ex) www.itwillbs.co.kr?id=itwill&age=20 <br><br>

        2. post 방식 <br>
        - 전송할 데이터를 body에 담아서 전송(주소줄 X) <br>
        - URL 데이터 전송X, body에 담아서 전송(중요 데이터 노출X) <br>
        - 데이터 길이 제한X <br>
        - 느린 전송 속도 <br>
        ex) www.itwillbs.co.kr
    </p>
    <hr>
    <fieldset>
        <legend>form 입력</legend>
        <form action="itwill.jsp" method="get" name="fr2" onsubmit="return fn4();">
            <label>아이디 : </label>
            <input type="text" name="id"> <br>
            비밀번호 : <input type="password" name="pw"> <br>
            <textarea name="content"></textarea>

            <input type="submit" value="전송">
        </form>
    </fieldset>
    <script>
        function fn4(){
            if(document.fr2.id.value == ""){
                alert("아이디 입력 안됨!");
                return false;
            }

            // if(document.fr2.pw.value == ""){
            //     alert("비밀 번호 입력 안됨!");
            //     return false;
            // }

            if(document.fr2.id.value.length < 5){
                alert("아이디 5자 이상 입력하시오!");
                return false;
            }
        }
    </script>
    <hr>

    <fieldset>
        <legend>form 선택</legend>
        <form action="itwill.jsp" method="get" name="fr3" onsubmit="return fn7();">
            <input type="radio" name="gender" value="남">남
            <input type="radio" name="gender" value="여">여
            <hr>
            <input type="checkbox" name="hobby" value="여행">여행
            <input type="checkbox" name="hobby" value="운동">운동
            <input type="checkbox" name="hobby" value="게임">게임
            <hr>
            <!-- 요소의 value가 없는 경우 text값을 전달,
            있을 경우 value값을 전달-->
            <select name="subject">
                <option value="">메뉴를 선택하라</option>
                <option value="1">싫다</option>
            </select>
            <hr>
            <input type="submit" value="전송">
        </form>
    </fieldset>

    <script>
        function fn5(){
            if(document.fr3.gender[0].checked){
                alert("남성!");
                return false;
            }

            // if(document.fr3.gender.value == "남"){
            //     alert("남성!");
            //     return false;
            // }
            
            if(document.fr3.gender[1].checked){
                alert("여성!");
                return false;
            }

            // if(document.fr3.gender.value == "여"){
            //     alert("여성!");
            //     return false;
            // }
        }      
        
        function fn6(){
            for(let i = 0; i < document.fr3.hobby.length; i++){
                if(document.fr3.hobby[i].checked){                    
                    return true;
                }
            }
            return false;
        }

        //select => selectedIndex 속성(선택된 요소의 인덱스)
        // option => selected 속성(특정 요소의 선택 여부)
        function fn7(){
            if(document.fr3.subject.options[0].selected){
                alert("선택!");
                return false;
            }

            if(document.fr3.subject.value == ""){
                alert("메뉴를 선택하라!");
                return false;
            }
        }

    </script>
</body>
</html>